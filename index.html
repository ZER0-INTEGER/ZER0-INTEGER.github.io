<head>
<title>scratchalt</title>
</head>
<body>


<center>
<h1>scratchalt</h1>
<iframe src="https://scratch.mit.edu/projects/685119720/embed" width="485" height="402" id="altiframe"></iframe>
<br><br>
Project ID:<input type="text" value="685119720" id="projectID">


<button onclick="embedGenerate()">Generate</button>

<br>
<h3>Package</h3>
Title:<input type="text" value="Scratch Game!" id="title"><br>
Subtitle (Above Game):
<input type="text" value = 'Scratch Game!' id="subtitle"><br>
Favicon Address (PNG):<input type="text" id="icon"><br>
<br>
Width and Height:<input type="text" id="width" value="485" size="2">x<input type="text" id="height" value="402" size="2"><br>
Fullscreen?:
<input type="checkbox" id="ifullscreen" onclick="ifullscreen()"><br>
<br>
Color:
<input type="text" value = 'lightgrey' id="icolor"><br>
<br>
Filename:
<input type="text" value = 'result' size="1" id="filename">.html<br>

<button onclick="embedPackage()">Package</button>

</center>
<script src="/filesaver.js"></script>
<script>


function embedGenerate() {
  var iframe = document.getElementById("altiframe");
  var projectID = document.getElementById("projectID").value;
  iframe.src="https://scratch.mit.edu/projects/"+projectID+"/embed"
  
    
}

function embedPackage() {
  var iframe = document.getElementById("altiframe");
  var projectID = document.getElementById("projectID").value;
  var iTitle = document.getElementById("title").value;
  var iIcon = document.getElementById("icon").value;
  var width = document.getElementById("width").value;
  var height = document.getElementById("height").value;
  var icolor = document.getElementById("icolor").value;
  var subtitle = document.getElementById("subtitle").value;
  var filename = document.getElementById("filename").value;
  var ifullscreen = document.getElementById("ifullscreen").value;
  
  var iframe=''
  
  
  iframestring='<br><br><center><h1>'+subtitle+'</h1><iframe src="https://scratch.mit.edu/projects/'+projectID+'/embed" title="scratchalt" width="'+width+'" height="'+height+'"></iframe></center>'
  
  
  
  var titlestring='<title>'+iTitle+'</title>'
  var iconstring='<link rel="icon" type="image/png" href='+iIcon+'>'
  var colorstring='<style>body { background-color: '+icolor+'; font-family: verdana; font-size: 15px; }</style>'

  
  var result=new Blob([iframestring+titlestring+iconstring+colorstring], {type: "text/plain;charset=utf-8"})
  
  saveAs(result,filename+'.html')
}

function ifullscreen(){
  var ifullscreen = document.getElementById("ifullscreen");
  if (ifullscreen.checked==true){
    var width = document.getElementById("width").value = "100%";
    var height = document.getElementById("height").value = "100%";
  }else{
    var width = document.getElementById("width").value = '485';
    var height = document.getElementById("height").value = '402';
  }
  
}

</script>

<style>

h3 {
  font-family: verdana;
  text-align: center;
}

h1 {
  font-family: verdana;
  text-align: center;
}

body {
  background-color: lightgrey;
  font-family: verdana;
  font-size: 15px;
}
</style>

</body>
